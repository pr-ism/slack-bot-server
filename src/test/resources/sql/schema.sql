DROP TABLE IF EXISTS test_audit_entity;
DROP TABLE IF EXISTS workspaces;
DROP TABLE IF EXISTS oauth_verification_states;

CREATE TABLE IF NOT EXISTS test_audit_entity (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at TIMESTAMP(6) NOT NULL,
    updated_at TIMESTAMP(6) NOT NULL,
    name VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS workspaces (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at TIMESTAMP(6) NOT NULL,
    updated_at TIMESTAMP(6) NOT NULL,
    user_id BIGINT NOT NULL,
    team_id VARCHAR(255) NOT NULL,
    access_token VARCHAR(255) NOT NULL,
    bot_user_id VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS oauth_verification_states (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at TIMESTAMP(6) NOT NULL,
    user_id BIGINT NOT NULL,
    state VARCHAR(255) NOT NULL,
    expires_at TIMESTAMP(6) NOT NULL
);
